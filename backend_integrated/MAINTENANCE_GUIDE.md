# Backend Maintenance Guide

## Quick Cleanup Command

To remove unwanted files from the backend:

```powershell
cd c:\Users\Sumit\Desktop\PIQ\PresenceIQ\backend_integrated
.\cleanup_unwanted_files.ps1
```

## What Gets Cleaned

âœ… **Automatically Removed:**

-   `__pycache__/` directories (Python bytecode cache)
-   `.pyc` and `.pyo` files (compiled Python files)
-   `.log` files (application logs)
-   `.pytest_cache/` (test cache)
-   `.coverage` and `htmlcov/` (coverage reports)

âœ… **Safe to Remove:**
These files are automatically regenerated by Python/Django and don't need to be in version control.

## What's Protected

ðŸ”’ **Never Removed:**

-   Source code files (`.py`)
-   Configuration files (`.env`, `requirements.txt`)
-   Documentation (`.md` files)
-   Django migrations
-   Static files and templates
-   Media files

## Regular Maintenance

### Before Committing to Git

```powershell
# Clean up temporary files
.\cleanup_unwanted_files.ps1

# Check git status
git status
```

### After Pulling Updates

```powershell
# Install any new dependencies
pip install -r requirements.txt

# Run migrations if needed
python manage.py migrate

# Collect static files
python manage.py collectstatic --noinput
```

### Performance Optimization

```powershell
# Clear old logs (keeps last 7 days)
Get-ChildItem logs/*.log | Where-Object {$_.LastWriteTime -lt (Get-Date).AddDays(-7)} | Remove-Item

# Clear expired sessions
python manage.py clearsessions
```

## File Size Management

Check backend size:

```powershell
cd backend_integrated
Get-ChildItem -Recurse | Measure-Object -Property Length -Sum | Select-Object Count, @{Name="Size (MB)";Expression={[math]::Round($_.Sum / 1MB, 2)}}
```

## Troubleshooting

### If Server Won't Start After Cleanup

The cleanup only removes cache files. If issues occur:

1. Check that `manage.py` still exists
2. Verify `.env` file is present
3. Ensure all apps have `__init__.py` files
4. Reinstall dependencies: `pip install -r requirements.txt`

### If Module Import Errors Occur

Python will automatically regenerate `__pycache__`. Simply restart the server:

```powershell
python manage.py runserver
```

## Gitignore Reference

The `.gitignore` file automatically prevents tracking of:

-   Python cache
-   Virtual environments
-   Log files
-   Database files (SQLite)
-   Media files
-   IDE settings

No manual cleanup needed for version control!
